/* css/components-visual.css */
/* This file contains styles for visual effects, animations, and complex layouts. */

/* Large Feedback Modal (for new monster) */
.modal-content.large-feedback-modal {
    max-width: 750px;
    padding: 20px 25px;
}
@media (max-width: 768px) {
    .modal-content.large-feedback-modal {
        max-width: 95%;
    }
}

#monster-banner-container {
    width: 100%;
    height: 150px;
    overflow: hidden;
    border-radius: 8px;
    margin-bottom: 15px;
    background-color: var(--bg-primary);
    display: flex;
    align-items: center;
    justify-content: center;
}
#monster-banner-container img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 8px;
}

.feedback-monster-basic-stats {
    background-color: var(--bg-primary);
    padding: 15px;
    border-radius: 8px;
    border: 1px solid var(--border-color);
    margin-bottom: 15px;
}
.feedback-monster-stats-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 8px 15px;
    text-align: left;
}
@media (min-width: 480px) {
    .feedback-monster-stats-grid {
        grid-template-columns: repeat(3, 1fr);
    }
}
.feedback-monster-stats-grid div {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 1rem;
}
.feedback-monster-stats-grid strong {
    color: var(--text-secondary);
    margin-right: 8px;
}
.feedback-monster-stats-grid span {
    color: var(--text-primary);
    font-weight: bold;
}
.feedback-monster-info-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 15px;
    margin-top: 15px;
}
@media (min-width: 600px) {
    .feedback-monster-info-grid {
        grid-template-columns: 1fr 1fr;
    }
}
@media (min-width: 700px) {
    .feedback-monster-ai-grid {
        grid-template-columns: 1fr 1fr;
        gap: 15px;
    }
    .feedback-monster-ai-grid .col-span-full {
        grid-column: span 2;
    }
}
.feedback-monster-info-section {
    background-color: var(--bg-primary);
    padding: 15px;
    border-radius: 8px;
    border: 1px solid var(--border-color);
    max-height: 250px;
    overflow-y: auto;
}
.feedback-monster-info-section:last-child {
    max-height: 350px;
}
.feedback-monster-info-title {
    font-size: 1rem;
    font-weight: bold;
    color: var(--accent-color);
    margin-bottom: 10px;
    padding-bottom: 5px;
    border-bottom: 1px dashed var(--border-color);
}
.feedback-monster-info-section p {
    margin-bottom: 5px;
    font-size: 1rem;
    color: var(--text-primary);
}
.feedback-monster-info-section strong {
    color: var(--text-secondary);
    margin-right: 5px;
}
.dna-name-text {
    display: block;
}
.dna-item .dna-rarity-badge {
    z-index: 1;
}

/* Monster Snapshot Area Layout */
.monster-snapshot-area {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    padding: 8px;
    min-height: 230px;
}
@media (min-width: 768px) {
    .monster-snapshot-area {
        min-height: 270px;
    }
}

#monster-snapshot-base-bg,
#monster-snapshot-body-silhouette,
#monster-parts-container {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    object-fit: contain;
}

#monster-snapshot-base-bg {
    z-index: 1;
    width: 100%;
    height: 100%;
    object-fit: cover;
}

#monster-snapshot-body-silhouette {
    z-index: 2;
    max-width: 75%;
    max-height: 75%;
}

#monster-parts-container {
    z-index: 3;
    width: 60%; 
    height: 75%;
    display: grid;
    grid-template-columns: 1fr 1fr;
    grid-template-rows: repeat(3, 1fr);
    grid-template-areas:
        "head head"
        "lArm rArm"
        "lLeg rLeg";
    gap: 5px;
}

.monster-part {
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    width: 100%;
    height: 100%;
    border: 1px solid var(--border-color);
    border-radius: 6px; 
    box-sizing: border-box;
    visibility: visible;
}
.monster-part.empty-part {
    border-style: dashed;
    border-width: 2px;
    background-color: color-mix(in srgb, var(--bg-primary) 30%, transparent);
}

#monster-part-head { grid-area: head; }
#monster-part-left-arm { grid-area: lArm; }
#monster-part-right-arm { grid-area: rArm; }
#monster-part-left-leg { grid-area: lLeg; }
#monster-part-right-leg { grid-area: rLeg; }

.snapshot-info-overlay {
    position: absolute;
    bottom: 8px;
    left: 10px;
    right: 10px;
    z-index: 4;
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
    pointer-events: none;
}
.snapshot-info-left, .snapshot-info-right {
    text-align: left;
}
.snapshot-info-right {
    text-align: right;
}
#snapshot-achievement-title {
    font-size: 1rem;
    font-weight: bold;
    color: var(--accent-color);
    display: block;
}
#snapshot-nickname {
    font-size: 1rem;
    display: block;
    margin-top: 1px;
}
#snapshot-evaluation {
    font-size: 1rem;
    font-weight: bold;
    color: var(--success-color);
}
#snapshot-win-loss {
    position: absolute;
    top: 8px;
    right: 10px;
    font-size: 1rem;
    color: var(--text-secondary);
    z-index: 4;
    background-color: color-mix(in srgb, var(--bg-panel) 70%, transparent);
    padding: 3px 6px;
    border-radius: 4px;
}
#snapshot-win-loss span { display: block; }
#snapshot-main-content {
    position: absolute;
    top: 8px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 4;
}

/* Animations and Visual Effects */
.loading-spinner {
    border:4px solid var(--border-color);
    border-top:4px solid var(--accent-color);
    border-radius:50%;
    width:30px;
    height:30px;
    animation:spin 1s linear infinite;
    margin:20px auto;
}
.scrolling-hints-container {
    height: 22px;
    overflow: hidden;
    position: relative;
    background-color: var(--bg-primary);
    border-radius: 4px;
    padding: 0 10px;
    margin-top: 10px;
    border: 1px solid var(--border-color);
    transition: background-color 0.3s, border-color 0.3s;
    -webkit-user-select: none;
    -ms-user-select: none;
    user-select: none;
}
.scrolling-hint-text {
    position: absolute;
    width: 100%;
    text-align: center;
    line-height: 22px;
    font-size: 1rem;
    color: var(--text-secondary);
    animation-name: scrollHint;
    animation-timing-function: linear;
    animation-iteration-count: infinite;
    opacity: 0;
    transform: translateY(100%);
}